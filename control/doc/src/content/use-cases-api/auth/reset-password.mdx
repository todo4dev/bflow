---
title: Reset Password
---

# Reset Password

Resets the user's password using the OTP code sent by email.

## Description

This endpoint verifies the OTP code sent to the user's email and updates the account password. It ensures the account is active and verified before proceeding.

## Rules

- The endpoint must be accessed via a `PATCH` request.
- **Email**: Must be a valid email format.
- **OTP**: Must be exactly 6 characters.
- **New Password**: Must contain at least one lowercase letter, one uppercase letter, one digit, one special character, and be between 8 and 50 characters long.
- If the OTP is invalid or expired, a `409 Conflict` is returned.
- If the account is not found or not active, a `404 Not Found` is returned.
- Upon success, the password is changed and an `AccountCredentialChanged` event is emitted.

## Request

- **Method:** `PATCH`
- **Path:** `/auth/recover`
- **Body:** `application/json`

| Field        | Type   | Required | Description                  |
|--------------|--------|----------|------------------------------|
| otp          | string | Yes      | The activation code (6 chars) |
| email        | string | Yes      | The user's email address     |
| new_password | string | Yes      | The new password             |

### Example

```json
{
  "otp": "123456",
  "email": "john.doe@email.com",
  "new_password": "NewTest@123"
}
```

## Success Case

**Condition:** valid email, valid OTP, valid password, account active.

- **HTTP Status:** `200 OK`
- **Response Body:** Empty

## Error Cases

### Invalid OTP

**Condition:** The provided OTP is incorrect or expired.

- **HTTP Status:** `409 Conflict`
- **Response Body:**
  ```json
  {
    "name": "AccountInvalidOTP",
    "message": "Invalid OTP code"
  }
  ```

### Account Not Found

**Condition:** The provided email is not registered or account is not active.

- **HTTP Status:** `404 Not Found`
- **Response Body:**
  ```json
  {
    "name": "AccountNotFound",
    "message": "Account not found"
  }
  ```

### Invalid Data

**Condition:** Invalid format for email, OTP or password.

- **HTTP Status:** `422 Unprocessable Entity`
- **Response Body:** Validation error details.
